<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `HostIncomingBody` trait in crate `hermes`."><title>HostIncomingBody in hermes::runtime_extensions::bindings::wasi::http::types - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../../../../static.files/rustdoc-7dc20aaa.css"><meta name="rustdoc-vars" data-root-path="../../../../../../" data-static-root-path="../../../../../../static.files/" data-current-crate="hermes" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-nightly (160e7623e 2025-08-26)" data-channel="nightly" data-search-js="search-5fc2c5c0.js" data-stringdex-js="stringdex-0e748618.js" data-settings-js="settings-c38705f0.js" ><script src="../../../../../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../../../../static.files/main-17c00ba7.js"></script><noscript><link rel="stylesheet" href="../../../../../../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../../../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">HostIncomingBody</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../../../hermes/index.html">hermes</a><span class="version">0.0.5</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Host<wbr>Incoming<wbr>Body</a></h2><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.drop" title="drop">drop</a></li><li><a href="#tymethod.finish" title="finish">finish</a></li><li><a href="#tymethod.stream" title="stream">stream</a></li></ul><h3><a href="#foreign-impls">Implementations on Foreign Types</a></h3><ul class="block"><li><a href="#impl-HostIncomingBody-for-%26mut+_T" title="&#38;mut _T">&#38;mut _T</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In hermes::<wbr>runtime_<wbr>extensions::<wbr>bindings::<wbr>wasi::<wbr>http::<wbr>types</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../../../../index.html">hermes</a>::<wbr><a href="../../../../index.html">runtime_extensions</a>::<wbr><a href="../../../index.html">bindings</a>::<wbr><a href="../../index.html">wasi</a>::<wbr><a href="../index.html">http</a>::<wbr><a href="index.html">types</a></div><h1>Trait <span class="trait">Host<wbr>Incoming<wbr>Body</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../../../../src/hermes/runtime_extensions/bindings.rs.html#11-16">Source</a> </span></div><pre class="rust item-decl"><code>pub trait HostIncomingBody {
    // Required methods
    fn <a href="#tymethod.stream" class="fn">stream</a>(
        &amp;mut self,
        self_: Resource&lt;<a class="enum" href="enum.IncomingBody.html" title="enum hermes::runtime_extensions::bindings::wasi::http::types::IncomingBody">IncomingBody</a>&gt;,
    ) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.99/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Resource&lt;<a class="enum" href="../../io/streams/enum.InputStream.html" title="enum hermes::runtime_extensions::bindings::wasi::io::streams::InputStream">InputStream</a>&gt;, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.finish" class="fn">finish</a>(
        &amp;mut self,
        this: Resource&lt;<a class="enum" href="enum.IncomingBody.html" title="enum hermes::runtime_extensions::bindings::wasi::http::types::IncomingBody">IncomingBody</a>&gt;,
    ) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.99/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;Resource&lt;<a class="enum" href="enum.FutureTrailers.html" title="enum hermes::runtime_extensions::bindings::wasi::http::types::FutureTrailers">FutureTrailers</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.drop" class="fn">drop</a>(&amp;mut self, rep: Resource&lt;<a class="enum" href="enum.IncomingBody.html" title="enum hermes::runtime_extensions::bindings::wasi::http::types::IncomingBody">IncomingBody</a>&gt;) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.99/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;;
}</code></pre><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">ยง</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.stream" class="method"><a class="src rightside" href="../../../../../../src/hermes/runtime_extensions/bindings.rs.html#11-16">Source</a><h4 class="code-header">fn <a href="#tymethod.stream" class="fn">stream</a>(
    &amp;mut self,
    self_: Resource&lt;<a class="enum" href="enum.IncomingBody.html" title="enum hermes::runtime_extensions::bindings::wasi::http::types::IncomingBody">IncomingBody</a>&gt;,
) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.99/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Resource&lt;<a class="enum" href="../../io/streams/enum.InputStream.html" title="enum hermes::runtime_extensions::bindings::wasi::io::streams::InputStream">InputStream</a>&gt;, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns the contents of the body, as a stream of bytes.</p>
<p>Returns success on first call: the stream representing the contents
can be retrieved at most once. Subsequent calls will return error.</p>
<p>The returned <code>input-stream</code> resource is a child: it must be dropped
before the parent <code>incoming-body</code> is dropped, or consumed by
<code>incoming-body.finish</code>.</p>
<p>This invariant ensures that the implementation can determine whether
the user is consuming the contents of the body, waiting on the
<code>future-trailers</code> to be ready, or neither. This allows for network
backpressure is to be applied when the user is consuming the body,
and for that backpressure to not inhibit delivery of the trailers if
the user does not read the entire body.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.finish" class="method"><a class="src rightside" href="../../../../../../src/hermes/runtime_extensions/bindings.rs.html#11-16">Source</a><h4 class="code-header">fn <a href="#tymethod.finish" class="fn">finish</a>(
    &amp;mut self,
    this: Resource&lt;<a class="enum" href="enum.IncomingBody.html" title="enum hermes::runtime_extensions::bindings::wasi::http::types::IncomingBody">IncomingBody</a>&gt;,
) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.99/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;Resource&lt;<a class="enum" href="enum.FutureTrailers.html" title="enum hermes::runtime_extensions::bindings::wasi::http::types::FutureTrailers">FutureTrailers</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Takes ownership of <code>incoming-body</code>, and returns a <code>future-trailers</code>.
This function will trap if the <code>input-stream</code> child is still alive.</p>
</div></details><section id="tymethod.drop" class="method"><a class="src rightside" href="../../../../../../src/hermes/runtime_extensions/bindings.rs.html#11-16">Source</a><h4 class="code-header">fn <a href="#tymethod.drop" class="fn">drop</a>(&amp;mut self, rep: Resource&lt;<a class="enum" href="enum.IncomingBody.html" title="enum hermes::runtime_extensions::bindings::wasi::http::types::IncomingBody">IncomingBody</a>&gt;) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.99/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></div><h2 id="foreign-impls" class="section-header">Implementations on Foreign Types<a href="#foreign-impls" class="anchor">ยง</a></h2><details class="toggle implementors-toggle"><summary><section id="impl-HostIncomingBody-for-%26mut+_T" class="impl"><a class="src rightside" href="../../../../../../src/hermes/runtime_extensions/bindings.rs.html#11-16">Source</a><a href="#impl-HostIncomingBody-for-%26mut+_T" class="anchor">ยง</a><h3 class="code-header">impl&lt;_T: <a class="trait" href="trait.HostIncomingBody.html" title="trait hermes::runtime_extensions::bindings::wasi::http::types::HostIncomingBody">HostIncomingBody</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="trait.HostIncomingBody.html" title="trait hermes::runtime_extensions::bindings::wasi::http::types::HostIncomingBody">HostIncomingBody</a> for <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut _T</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.stream" class="method trait-impl"><a class="src rightside" href="../../../../../../src/hermes/runtime_extensions/bindings.rs.html#11-16">Source</a><a href="#method.stream" class="anchor">ยง</a><h4 class="code-header">fn <a href="#tymethod.stream" class="fn">stream</a>(
    &amp;mut self,
    self_: Resource&lt;<a class="enum" href="enum.IncomingBody.html" title="enum hermes::runtime_extensions::bindings::wasi::http::types::IncomingBody">IncomingBody</a>&gt;,
) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.99/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Resource&lt;<a class="enum" href="../../io/streams/enum.InputStream.html" title="enum hermes::runtime_extensions::bindings::wasi::io::streams::InputStream">InputStream</a>&gt;, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns the contents of the body, as a stream of bytes.</p>
<p>Returns success on first call: the stream representing the contents
can be retrieved at most once. Subsequent calls will return error.</p>
<p>The returned <code>input-stream</code> resource is a child: it must be dropped
before the parent <code>incoming-body</code> is dropped, or consumed by
<code>incoming-body.finish</code>.</p>
<p>This invariant ensures that the implementation can determine whether
the user is consuming the contents of the body, waiting on the
<code>future-trailers</code> to be ready, or neither. This allows for network
backpressure is to be applied when the user is consuming the body,
and for that backpressure to not inhibit delivery of the trailers if
the user does not read the entire body.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.finish" class="method trait-impl"><a class="src rightside" href="../../../../../../src/hermes/runtime_extensions/bindings.rs.html#11-16">Source</a><a href="#method.finish" class="anchor">ยง</a><h4 class="code-header">fn <a href="#tymethod.finish" class="fn">finish</a>(
    &amp;mut self,
    this: Resource&lt;<a class="enum" href="enum.IncomingBody.html" title="enum hermes::runtime_extensions::bindings::wasi::http::types::IncomingBody">IncomingBody</a>&gt;,
) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.99/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;Resource&lt;<a class="enum" href="enum.FutureTrailers.html" title="enum hermes::runtime_extensions::bindings::wasi::http::types::FutureTrailers">FutureTrailers</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Takes ownership of <code>incoming-body</code>, and returns a <code>future-trailers</code>.
This function will trap if the <code>input-stream</code> child is still alive.</p>
</div></details><section id="method.drop" class="method trait-impl"><a class="src rightside" href="../../../../../../src/hermes/runtime_extensions/bindings.rs.html#11-16">Source</a><a href="#method.drop" class="anchor">ยง</a><h4 class="code-header">fn <a href="#tymethod.drop" class="fn">drop</a>(&amp;mut self, rep: Resource&lt;<a class="enum" href="enum.IncomingBody.html" title="enum hermes::runtime_extensions::bindings::wasi::http::types::IncomingBody">IncomingBody</a>&gt;) -&gt; <a class="type" href="https://docs.rs/anyhow/1.0.99/anyhow/type.Result.html" title="type anyhow::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></div></details><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">ยง</a></h2><div id="implementors-list"><section id="impl-HostIncomingBody-for-HermesRuntimeContext" class="impl"><a class="src rightside" href="../../../../../../src/hermes/runtime_extensions/wasi/http/host.rs.html#415-462">Source</a><a href="#impl-HostIncomingBody-for-HermesRuntimeContext" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="trait.HostIncomingBody.html" title="trait hermes::runtime_extensions::bindings::wasi::http::types::HostIncomingBody">HostIncomingBody</a> for <a class="struct" href="../../../../../runtime_context/struct.HermesRuntimeContext.html" title="struct hermes::runtime_context::HermesRuntimeContext">HermesRuntimeContext</a></h3></section></div><script src="../../../../../../trait.impl/hermes/runtime_extensions/bindings/wasi/http/types/trait.HostIncomingBody.js" async></script></section></div></main></body></html>