VERSION 0.8

# WASI Bindings Generator - provides WebAssembly Interface Types (WIT) binding generation
# This generates Rust code from WIT files that define WebAssembly component interfaces
IMPORT ../../../../wasm/wasi AS wasi

save-local-hermes:
    # Use minimal Alpine Linux base image for lightweight container
    FROM scratch

    # Copy the Hermes binary from the parent build context
    # The COPY instruction will automatically trigger the ../../../../hermes+build target if not already built
    COPY ../../../../hermes+build/hermes ./hermes

    # Save the binary to local filesystem for development use
    # This makes it available at ./hermes in the calling directory
    SAVE ARTIFACT hermes AS LOCAL ./hermes